<h3>Policy Members</h3>
<div class="members-table">
  <div *ngIf="dataSource.isLoading">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    <span class="grey"><i>Loading policy members...</i></span>
  </div>
  <div [hidden]="dataSource.isLoading">
    <div *ngIf="paginator.length === 0">
      <span class="grey"><i>No policy members found...</i></span>
    </div>
    <div [hidden]="paginator.length === 0">
      <mat-table #table [dataSource]="dataSource" matSort>
        <ng-container matColumnDef="memberName">
          <mat-header-cell *matHeaderCellDef>Member</mat-header-cell>
          <mat-cell *matCellDef="let row">{{row.memberName}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="idNumber">
          <mat-header-cell *matHeaderCellDef>ID Number</mat-header-cell>
          <mat-cell *matCellDef="let row">{{row.idNumber}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="dateOfBirth">
          <mat-header-cell *matHeaderCellDef>DOB</mat-header-cell>
          <mat-cell *matCellDef="let row">{{row.dateOfBirth | date: 'yyyy/MM/dd'}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="age">
          <mat-header-cell *matHeaderCellDef>Age</mat-header-cell>
          <mat-cell *matCellDef="let row">{{row.age}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="memberType">
          <mat-header-cell *matHeaderCellDef>Member Type</mat-header-cell>
          <mat-cell *matCellDef="let row">{{row.memberType}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="benefitName">
          <mat-header-cell *matHeaderCellDef>Benefit</mat-header-cell>
          <mat-cell *matCellDef="let row">{{row.benefitName}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="benefitAmount">
          <mat-header-cell *matHeaderCellDef>Cover Amount</mat-header-cell>
          <mat-cell *matCellDef="let row">{{row.benefitAmount | number:'1.2-2'}}</mat-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="memberColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: memberColumns;"></mat-row>
      </mat-table>
      <mat-paginator #paginator [length]="dataSource.rowCount$" [pageSize]="10" [pageSizeOptions]="[10, 25, 50, 100]">
      </mat-paginator>
    </div>
  </div>
</div>