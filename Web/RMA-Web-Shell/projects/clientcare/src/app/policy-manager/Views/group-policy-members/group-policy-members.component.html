<h3>Policy Members</h3>
<div *ngIf="dataSource.isLoading">
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  <span class="grey"><i>Loading policy members...</i></span>
</div>
<div [hidden]="dataSource.isLoading">
  <div *ngIf="paginator.length === 0">
    <span class="grey"><i>No policy members found...</i></span>
  </div>
  <div [hidden]="paginator.length === 0">
    <mat-table #table [dataSource]="dataSource" matSort matSortActive="RolePlayerTypeId" matSortDirection="asc" matSortDisableClear>
      <ng-container matColumnDef="policyNumber">
        <mat-header-cell *matHeaderCellDef>Policy</mat-header-cell>
        <mat-cell *matCellDef="let row">{{row.policyNumber}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="memberName">
        <mat-header-cell *matHeaderCellDef>Member</mat-header-cell>
        <mat-cell *matCellDef="let row">{{row.memberName}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="idType">
        <mat-header-cell *matHeaderCellDef>ID Type</mat-header-cell>
        <mat-cell *matCellDef="let row">{{row.idType}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="idNumber">
        <mat-header-cell *matHeaderCellDef>ID Number</mat-header-cell>
        <mat-cell *matCellDef="let row">{{row.idNumber}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="rolePlayerType">
        <mat-header-cell *matHeaderCellDef>Member Type</mat-header-cell>
        <mat-cell *matCellDef="let row">{{row.rolePlayerType}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="memberStatus">
        <mat-header-cell *matHeaderCellDef> Member Status</mat-header-cell>
        <mat-cell *matCellDef="let row">{{row.memberStatus}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="policyStatus">
        <mat-header-cell *matHeaderCellDef>Policy Status</mat-header-cell>
        <mat-cell *matCellDef="let row">{{getPolicyStatus(row.policyStatusId)}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="startDate">
        <mat-header-cell *matHeaderCellDef>Start Date</mat-header-cell>
        <mat-cell *matCellDef="let row">{{row.startDate | date:'yyyy/MM/dd'}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="endDate">
        <mat-header-cell *matHeaderCellDef>End Date</mat-header-cell>
        <mat-cell *matCellDef="let row">{{row.endDate | date:'yyyy/MM/dd'}}</mat-cell>
      </ng-container>
      <mat-header-row *matHeaderRowDef="memberColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: memberColumns;"></mat-row>
    </mat-table>
    <mat-paginator #paginator [length]="dataSource.rowCount$" [pageSize]="5" [pageSizeOptions]="[5, 10, 25, 100]">
    </mat-paginator>
  </div>
</div>
