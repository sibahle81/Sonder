<div>
    <mat-card style="margin: 15px 30px">
        <mat-card-header>
            <mat-card-title class="wizard-font card-title grey">
                <h1 style="color:#389cae"></h1>
                <h3>{{reportTitle}}</h3>
            </mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <form [formGroup]="form" class="mat-container details-form" novalidate>
                <div>
                    <section>
                        <div>
                            <div><label class="mat-label other-label mandatory-field">Report Type</label></div>
                            <mat-form-field class="mat-form-field">
                                <mat-select name="leadReportTypes" id="leadReportTypes"
                                    formControlName="leadReportTypes"
                                    (selectionChange)="leadReportTypeChanged($event)">
                                    <mat-option *ngFor="let leadReportTypes of leadReportTypes"
                                        [value]="leadReportTypes">
                                        {{leadReportTypes.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </section>
                </div>
                <div>
                    <div class="form">
                        <section [hidden]='!isDateFilterVisble'>
                            <div class="field-left">
                                <div><label class="mat-label other-label mandatory-field">Start Date</label></div>
                                <mat-form-field class="mat-form-field">
                                    <input matInput [matDatepicker]="startDatePicker" date="true" [value]="startDt.value"
                                        time="false" [formControl]="startDt" readonly
                                        (ngModelChange)="startDateChange($event)" [max]="startMaxDate">
                                    <mat-datepicker-toggle matSuffix class="picker-toggle" [for]="startDatePicker">
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #startDatePicker touchUi="true" ng-model-options="{ timezone: 'sast' }">
                                    </mat-datepicker>
                                </mat-form-field>
                            </div>
                            <div class="field-right">
                                <div><label class="mat-label other-label mandatory-field field-container-left">End Date</label></div>
                                <mat-form-field class="mat-form-field">
                                    <input matInput [matDatepicker]="endDatePicker" date="true" [value]="endDt.value"
                                        time="false" [formControl]="endDt" readonly (ngModelChange)="endDateChange($event)"
                                        [max]="endMinDate">
                                    <mat-datepicker-toggle matSuffix class="picker-toggle" [for]="endDatePicker">
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #endDatePicker touchUi="true" ng-model-options="{ timezone: 'sast' }">
                                    </mat-datepicker>
                                </mat-form-field>
                            </div>
                        </section>
                    </div>
                </div>
                <div>
                    <section [hidden]="!isLeadStatus">
                        <div class="field-left">
                            <div><label class="mat-label other-label mandatory-field">Lead Status</label></div>
                            <mat-form-field class="mat-form-field">
                                <mat-select name="leadStatus" id="leadStatus" (selectionChange)="leadStatusChanged($event)">
                                    <mat-option *ngFor="let leadStatus of leadStatus" [value] ="leadStatus">
                                        {{leadStatus.name}}
                                    </mat-option>  
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </section>
                    
                    <section [hidden]="!isQuoteStatus">
                        <div class="field-left">
                            <div><label class="mat-label other-label mandatory-field">Quote Status</label></div>
                            <mat-form-field class="mat-form-field">
                                <mat-select name="quoteStatus" id="quoteStatus" (selectionChange)="quoteStatusChanged($event)">
                                    <mat-option *ngFor="let quoteStatus of quoteStatus" [value] ="quoteStatus">
                                        {{quoteStatus.name}}
                                    </mat-option>  
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </section>

                    <section [hidden]='!isLeadClientType'>
                        <div *ngIf="isLeadID && isLeadClientType">
                        <div class="field-left" >
                            <div><label class="mat-label other-label mandatory-field">Client Type</label></div>
                            <mat-form-field class="mat-form-field">
                                <mat-select name="leadClientType" id="leadClientType"
                                    (selectionChange)="leadClientTypeChanged($event)">
                                    <mat-option *ngFor="let leadClientType of leadClientType" [value]="leadClientType">
                                        {{leadClientType.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div *ngIf="isLeadClientType && !isLeadID">
                        <div class="field-container-right" >
                            <div><label class="mat-label other-label mandatory-field">Client Type</label></div>
                            <mat-form-field class="mat-form-field">
                                <mat-select name="leadClientType" id="leadClientType"
                                    (selectionChange)="leadClientTypeChanged($event)">
                                    <mat-option *ngFor="let leadClientType of leadClientType" [value]="leadClientType">
                                        {{leadClientType.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    </section>

                  

                    <section [hidden]='!isLeadFilterDateType'>
                        <div class="field-container-right" >
                            <div><label class="mat-label other-label mandatory-field">Filter Date Type</label></div>
                            <mat-form-field class="mat-form-field">
                                <mat-select name="leadFilterDateType" id="leadFilterDateType"
                                    (selectionChange)="leadPeriodTypeChanged($event)">
                                    <mat-option *ngFor="let leadFilterDateType of leadFilterDateType" [value]="leadFilterDateType">
                                        {{leadFilterDateType.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </section>
                  
                    <section [hidden]='!isLeadFilterSLA'>
                        <div class="field-container-right" >
                            <div><label class="mat-label other-label mandatory-field">SLA</label></div>
                            <mat-form-field class="mat-form-field">
                                <mat-select name="leadFilterSLA" id="leadFilterSLA"
                                    (selectionChange)="leadFilterSLAChanged($event)">
                                    <mat-option *ngFor="let leadFilterSLA of leadFilterSLA" [value]="leadFilterSLA">
                                        {{leadFilterSLA.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </section>

                    <section [hidden]='!isLeadFilterProduct'>
                        <div class="field-container-right" >
                            <div><label class="mat-label other-label mandatory-field">Product</label></div>
                            <mat-form-field class="mat-form-field">
                                <mat-select name="leadFilterSLA" id="leadFilterSLA"
                                    (selectionChange)="leadFilterProductChanged($event)">
                                    <mat-option *ngFor="let product of productList" [value]="product.id">{{product.name}}</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </section>
                </div>

                <section>
                    <div style="margin-top:19px;">
                        <div class="mat-form-field">
                            <div class="form-buttons" (click)="viewReport()">
                                <button class="button submit-button pad-left">View</button>
                            </div>
                        </div>
                    </div>
                </section>

                <div class="form">
                    <section>
                        <table>
                            <tr>
                                <td style="background-color: whitesmoke !important;">
                                    <input type="image" alt="export" (click)="exportReport()"
                                        src="/assets/images/downloads-icon.png" width="40" height="40" />
                                </td>
                                <td style="background-color: whitesmoke !important;">
                                    <mat-radio-group aria-labelledby="reportformat-radio-group-label"
                                        class="reportformat-radio-group" (change)="reportFormatChange($event)">
                                        <mat-radio-button class="reportformat-radio-button"
                                            *ngFor="let reportFormat of reportFormats" [value]="reportFormat">
                                            {{reportFormat}} &nbsp;&nbsp;
                                        </mat-radio-button>
                                    </mat-radio-group>
                                </td>
                            </tr>
                        </table>
                    </section>
                </div>
                <div [hidden]="!showReport">
                    <br>
                    <ssrs-reportviewer [reportserver]="reportServerAudit" [reporturl]="reportUrlAudit"
                        [showparameters]="showParametersAudit" [format]="selectedReportFormat"
                        [extension]="extensionAudit" [parameters]="parametersAudit" [language]="languageAudit"
                        [width]="widthAudit" [height]="heightAudit" [toolbar]="toolbarAudit" [isDownload]="isDownload">
                    </ssrs-reportviewer>
                </div>
            </form>
        </mat-card-content>
    </mat-card>
</div>