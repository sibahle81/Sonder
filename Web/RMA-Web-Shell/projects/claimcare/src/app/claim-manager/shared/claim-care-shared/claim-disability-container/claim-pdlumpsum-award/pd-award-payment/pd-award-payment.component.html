<mat-card *ngIf="(isLoading$ | async)">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    <label class="mat-label other-label"><i>{{loadingMessage$ | async}}</i></label>
</mat-card>

<div *ngIf="!(isLoading$ | async)">
    <mat-card>
        <div class="menu-bar">
            <span class="material-icons">engineering</span>&nbsp;PD Award Payment Details
            <span (click)="cancel()" class="material-icons pointer right" matTooltip="Close">
                close
            </span>
            <span (click)="submit()" class="material-icons pointer right pulseGreen" matTooltip="Submit">
                save
            </span>
        </div>
        <div class="mainDiv">
            <form [formGroup]="form">
                <table class="altRowTable" style="width:100%;">
                    <tr>
                        <td><b>Payee Type</b></td>
                        <td>
                            <mat-select formControlName="payeeType" (selectionChange)="onPayeeTypeChange($event)">
                                <mat-option *ngFor="let payeeType of payeeTypes" 
                                [value]="payeeType">{{ formatLookup(payeeType) }}
                                </mat-option>
                            </mat-select>
                        </td>
                    </tr>
                    <tr>
                        <td><b>Payee</b></td>
                        <td>{{ payee }}</td>
                    </tr>
                    <tr>
                        <td><b>Amount</b></td>
                        <td><input type="text" matInput formControlName="amount" (change)="onAmountChange($event)" /></td>
                    </tr>
                    <tr>
                        <td><b>Vat Amount</b></td>
                        <td><input type="text" matInput formControlName="vatAmount" /></td>
                    </tr>
                    <tr>
                        <td><b>PAYE Amount</b></td>
                        <td><input type="text" matInput formControlName="payeAmount" /></td>
                    </tr>
                    <tr>
                        <td><b>Invoice Total (Incl)</b></td>
                        <td><input type="text" matInput formControlName="invoiceTotal" /></td>
                    </tr>
                </table>
            </form>
        </div>
    </mat-card>
</div>