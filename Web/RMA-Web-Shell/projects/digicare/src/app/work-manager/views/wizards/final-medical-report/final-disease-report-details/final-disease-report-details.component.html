<mat-card>
  <mat-card-content>
    <form [formGroup]="form" *ngIf="this.form">
      <!--Date from which fit for work-->
      <mat-label class="other-label mandatory-field">Date from which fit for work</mat-label>
      <br/>
      <mat-form-field>
        <input matInput [matDatepicker]="returnToWorkDatePicker" formControlName="dateReturnToWork"
               id="dateReturnToWork">
        <mat-datepicker-toggle matSuffix [for]="returnToWorkDatePicker"></mat-datepicker-toggle>
        <mat-datepicker #returnToWorkDatePicker></mat-datepicker>
      </mat-form-field>
      <br>
      <!-- Required to change occupation? -->
      <mat-label class="other-label mandatory-field">Required to change occupation?</mat-label>
      <br>
      <mat-radio-group aria-label="Required to change occupation?" formControlName="isJobChangeRequired"
                       id="isJobChangeRequired">
        <mat-radio-button value="Yes">Yes</mat-radio-button>&nbsp;
        <mat-radio-button value="No">No</mat-radio-button>
      </mat-radio-group>
      <br>
      <ng-container *ngIf="form.value.isJobChangeRequired == 'Yes'">
        <br/>
        <mat-label class="other-label mandatory-field">&nbsp;Briefly state details</mat-label>
        <br/>
        <mat-form-field appearance="standard">
				<textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="3" cdkAutosizeMaxRows="5"
                  formControlName="jobChangeDetails" class="mat-input-element" maxlength="1000" id="jobChangeDetails"></textarea>
        </mat-form-field>
      </ng-container>
      <br>
      <!-- Any permanent loss of function due to disease?-->
      <mat-label class="other-label mandatory-field">Any permanent loss of function due to disease?</mat-label>
      <br>
      <mat-radio-group aria-label="Required to change occupation?" formControlName="hasFunctionLoss"
                       id="hasFunctionLoss">
        <mat-radio-button value="Yes">Yes</mat-radio-button>&nbsp;
        <mat-radio-button value="No">No</mat-radio-button>
      </mat-radio-group>
      <br>
      <ng-container *ngIf="form.value.hasFunctionLoss == 'Yes'">
        <br/>
        <mat-label class="other-label mandatory-field">&nbsp;Briefly state details</mat-label>
        <br/>
        <mat-form-field appearance="standard">
				<textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="3" cdkAutosizeMaxRows="5" id="functionLossDetails"
                  formControlName="functionLossDetails" class="mat-input-element" maxlength="1000"></textarea>
        </mat-form-field>
        <p>If there are impairment findings, please detail any permanent anatomical defect and/or impairment of functions on the relevant assessment chart, <br> to be found at: <a
          href="https://randmutual.co.za/Downloads#48932-general-medical-reports" target="_blank">https://randmutual.co.za/Downloads#48932-general-medical-reports</a>.<br> Upload the completed assessment chart via the CompCare channel
        </p>
      </ng-container>
      <br>
      <!-- Has the condition stabilised-->
      <mat-label class="other-label mandatory-field">Has the condition stabilised?</mat-label>
      <br>
      <mat-radio-group aria-label="Required to change occupation?" formControlName="hasConditionStabilised"
                       id="hasConditionStabilised">
        <mat-radio-button value="Yes">Yes</mat-radio-button>&nbsp;
        <mat-radio-button value="No">No</mat-radio-button>
      </mat-radio-group>
      <br/>
      <br/>
      <div *ngIf="form.value.hasConditionStabilised == 'Yes'">
        <mat-label class="other-label">Date of stabilisation</mat-label>
        <br/>
        <mat-form-field>
          <input matInput [matDatepicker]="stabilisationDatePicker" formControlName="stabilisationDate"
                 id="stabilisationDate">
          <mat-datepicker-toggle matSuffix [for]="stabilisationDatePicker"></mat-datepicker-toggle>
          <mat-datepicker #stabilisationDatePicker></mat-datepicker>
        </mat-form-field>
        <br/>
        <mat-label class="other-label">&nbsp;Briefly state details</mat-label>
        <br/>
        <mat-form-field appearance="standard">
        <textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="3" cdkAutosizeMaxRows="5" id="conditionStabilisedDetails"
                  formControlName="conditionStabilisedDetails" class="mat-input-element" maxlength="1000"></textarea>
        </mat-form-field>
      </div>
      <br>
    </form>
  </mat-card-content>
</mat-card>
