<div class="mat-container mat-elevation-z8">  
  <div *ngIf="dataSource.loading$ | async">
    <mat-progress-bar mode="indeterminate"
        [ngClass]="{ 'loading-main-double-menu-progress': doubleMenu, 'loading-main-single-menu-progress': !doubleMenu }">
    </mat-progress-bar>
    <p class="site-font grey">Loading medical report forms...</p>
  </div>
  <div class="mat-header">
    <h1>Medical Report Forms</h1><br />
  </div>
  <mat-card class="matCard">
    <mat-card-content class="matCardContent">
      <div [hidden]="paginator.length == 0">
        <mat-table #table [dataSource]="dataSource" matSort matSortActive="reportDate" matSortDirection="desc"
        matSortDisableClear>
            <ng-container matColumnDef="reportTypeName">
              <mat-header-cell *matHeaderCellDef mat-sort-header> Report Type </mat-header-cell>
              <mat-cell *matCellDef="let medicalReportForm" matTooltip="{{medicalReportForm.reportTypeName}}">
                <span class="truncate-text"> {{ medicalReportForm.reportTypeName}} </span>
              </mat-cell>
            </ng-container>
            <ng-container matColumnDef="reportCategoryName">
              <mat-header-cell *matHeaderCellDef mat-sort-header> Report Category </mat-header-cell>
              <mat-cell *matCellDef="let medicalReportForm" matTooltip="{{medicalReportForm.reportCategoryName}}">
                <span class="truncate-text"> {{ medicalReportForm.reportCategoryName}} </span>
              </mat-cell>
            </ng-container>
            <ng-container matColumnDef="claimReferenceNumber">
              <mat-header-cell *matHeaderCellDef mat-sort-header> Claim Number </mat-header-cell>
              <mat-cell *matCellDef="let medicalReportForm" matTooltip="{{medicalReportForm.claimReferenceNumber}}">
                <span> {{medicalReportForm.claimReferenceNumber}} </span>
              </mat-cell>
            </ng-container>
            <ng-container matColumnDef="healthcareProviderPracticeNumber">
              <mat-header-cell *matHeaderCellDef mat-sort-header> Practice Number </mat-header-cell>
              <mat-cell *matCellDef="let medicalReportForm" matTooltip="{{medicalReportForm.healthcareProviderPracticeNumber}}"> {{medicalReportForm.healthcareProviderPracticeNumber}} </mat-cell>
            </ng-container>
            <ng-container matColumnDef="healthcareProviderName">
              <mat-header-cell *matHeaderCellDef mat-sort-header> Healthcare Provider Name </mat-header-cell>
              <mat-cell *matCellDef="let medicalReportForm" matTooltip="{{medicalReportForm.healthcareProviderName}}">
                <span class="truncate-text"> {{medicalReportForm.healthcareProviderName}} </span>
              </mat-cell>
            </ng-container>
            <ng-container matColumnDef="patientFullName">
              <mat-header-cell *matHeaderCellDef mat-sort-header> Patient Full Name </mat-header-cell>
              <mat-cell *matCellDef="let medicalReportForm" matTooltip="{{medicalReportForm.surname}} {{medicalReportForm.name}}">
                <span class="truncate-text"> {{medicalReportForm.surname}} {{medicalReportForm.name}} </span>
              </mat-cell>
            </ng-container>
            <ng-container matColumnDef="employerName">
              <mat-header-cell *matHeaderCellDef mat-sort-header> Employer Name </mat-header-cell>
              <mat-cell *matCellDef="let medicalReportForm" matTooltip="{{medicalReportForm.employerName}}">
                <span class="truncate-text"> {{medicalReportForm.employerName}} </span>
              </mat-cell>
            </ng-container>
            <ng-container matColumnDef="reportDate">
              <mat-header-cell *matHeaderCellDef mat-sort-header> Report Submission Date </mat-header-cell>
              <mat-cell *matCellDef="let medicalReportForm"> {{medicalReportForm.reportDate | date:'dd-MM-y'}} </mat-cell>
            </ng-container>
            <ng-container matColumnDef="reportStatus">
              <mat-header-cell *matHeaderCellDef mat-sort-header> Status </mat-header-cell>
              <mat-cell *matCellDef="let medicalReportForm"> {{medicalReportForm.reportStatus}} </mat-cell>
            </ng-container>
            <ng-container matColumnDef="viewReport">
              <mat-header-cell *matHeaderCellDef> View Report </mat-header-cell>
              <mat-cell *matCellDef="let medicalReportForm">
                <a class="cursorPointer" role="button" class="link-edit" (click)="onSelect(medicalReportForm)">View</a>
              </mat-cell>        
            </ng-container>
            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        </mat-table>
        <mat-paginator #paginator [length]="dataSource.rowCount$" [pageIndex]="0" [pageSize]="5" [pageSizeOptions]="[5, 10, 25, 100]">
        </mat-paginator>
      </div>
    </mat-card-content>
  </mat-card> 
</div>
